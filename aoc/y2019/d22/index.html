<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `d22` mod in crate `aoc`."><meta name="keywords" content="rust, rustlang, rust-lang, d22"><title>aoc::y2019::d22 - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../aoc/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module d22</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"><a href="../../index.html">aoc</a>::<wbr><a href="../index.html">y2019</a></p><script>window.sidebarCurrent = {name: "d22", ty: "mod", relpath: "../"};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/aoc/y2019/d22.rs.html#1-208" title="goto source code">[src]</a></span><span class="in-band">Module <a href="../../index.html">aoc</a>::<wbr><a href="../index.html">y2019</a>::<wbr><a class="mod" href="">d22</a></span></h1><div class="docblock"><h1 id="day-22-slam-shuffle" class="section-header"><a href="#day-22-slam-shuffle">Day 22: Slam Shuffle</a></h1>
<p>There isn't much to do while you wait for the droids to repair your ship. At least you're
drifting in the right direction. You decide to practice a new <a href="https://en.wikipedia.org/wiki/Shuffling">card shuffle</a> you've been working
on.</p>
<p>Digging through the ship's storage, you find a deck of <strong>space cards</strong>! Just like any deck of
space cards, there are 10007 cards in the deck numbered <code>0</code> through <code>10006</code>. The deck must be
new - they're still in <strong>factory order</strong>, with <code>0</code> on the top, then <code>1</code>, then <code>2</code>, and so on,
all the way through to <code>10006</code> on the bottom.</p>
<p>You've been practicing three different <strong>techniques</strong> that you use while shuffling. Suppose you
have a deck of only 10 cards (numbered <code>0</code> through <code>9</code>):</p>
<p><strong>To <code>deal into new stack</code></strong>, create a new stack of cards by dealing the top card of the deck
onto the top of the new stack repeatedly until you run out of cards:</p>
<pre><code class="language-txt">Top          Bottom
0 1 2 3 4 5 6 7 8 9   Your deck
                      New stack

  1 2 3 4 5 6 7 8 9   Your deck
                  0   New stack

    2 3 4 5 6 7 8 9   Your deck
                1 0   New stack

      3 4 5 6 7 8 9   Your deck
              2 1 0   New stack

Several steps later...

                  9   Your deck
  8 7 6 5 4 3 2 1 0   New stack

                      Your deck
9 8 7 6 5 4 3 2 1 0   New stack
</code></pre>
<p>Finally, pick up the new stack you've just created and use it as the deck for the next
technique.</p>
<p><strong>To <code>cut N</code> cards</strong>, take the top <code>N</code> cards off the top of the deck and move them as a single
unit to the bottom of the deck, retaining their order. For example, to <code>cut 3</code>:</p>
<pre><code class="language-txt">Top          Bottom
0 1 2 3 4 5 6 7 8 9   Your deck

      3 4 5 6 7 8 9   Your deck
0 1 2                 Cut cards

3 4 5 6 7 8 9         Your deck
              0 1 2   Cut cards

3 4 5 6 7 8 9 0 1 2   Your deck
</code></pre>
<p>You've also been getting pretty good at a version of this technique where <code>N</code> is negative! In
that case, cut (the absolute value of) <code>N</code> cards from the bottom of the deck onto the top. For
example, to <code>cut -4</code>:</p>
<pre><code class="language-txt">Top          Bottom
0 1 2 3 4 5 6 7 8 9   Your deck

0 1 2 3 4 5           Your deck
            6 7 8 9   Cut cards

        0 1 2 3 4 5   Your deck
6 7 8 9               Cut cards

6 7 8 9 0 1 2 3 4 5   Your deck
</code></pre>
<p><strong>To <code>deal with increment N</code></strong>, start by clearing enough space on your table to lay out all of
the cards individually in a long line. Deal the top card into the leftmost position. Then, move
<code>N</code> positions to the right and deal the next card there. If you would move into a position past
the end of the space on your table, wrap around and keep counting from the leftmost card again.
Continue this process until you run out of cards.</p>
<p>For example, to <code>deal with increment 3</code>:</p>
<pre><code class="language-txt">
0 1 2 3 4 5 6 7 8 9   Your deck
. . . . . . . . . .   Space on table
^                     Current position

Deal the top card to the current position:

  1 2 3 4 5 6 7 8 9   Your deck
0 . . . . . . . . .   Space on table
^                     Current position

Move the current position right 3:

  1 2 3 4 5 6 7 8 9   Your deck
0 . . . . . . . . .   Space on table
      ^               Current position

Deal the top card:

    2 3 4 5 6 7 8 9   Your deck
0 . . 1 . . . . . .   Space on table
      ^               Current position

Move right 3 and deal:

      3 4 5 6 7 8 9   Your deck
0 . . 1 . . 2 . . .   Space on table
            ^         Current position

Move right 3 and deal:

        4 5 6 7 8 9   Your deck
0 . . 1 . . 2 . . 3   Space on table
                  ^   Current position

Move right 3, wrapping around, and deal:

          5 6 7 8 9   Your deck
0 . 4 1 . . 2 . . 3   Space on table
    ^                 Current position

And so on:

0 7 4 1 8 5 2 9 6 3   Space on table
</code></pre>
<p>Positions on the table which already contain cards are still counted; they're not skipped. Of
course, this technique is carefully designed so it will never put two cards in the same position
or leave a position empty.</p>
<p>Finally, collect the cards on the table so that the leftmost card ends up at the top of your
deck, the card to its right ends up just below the top card, and so on, until the rightmost card
ends up at the bottom of the deck.</p>
<p>The complete shuffle process (your puzzle input) consists of applying many of these techniques.
Here are some examples that combine techniques; they all start with a <strong>factory order</strong> deck of
10 cards:</p>
<pre><code class="language-txt">deal with increment 7
deal into new stack
deal into new stack
Result: 0 3 6 9 2 5 8 1 4 7
</code></pre>
<pre><code class="language-txt">cut 6
deal with increment 7
deal into new stack
Result: 3 0 7 4 1 8 5 2 9 6
</code></pre>
<pre><code class="language-txt">deal with increment 7
deal with increment 9
cut -2
Result: 6 3 0 7 4 1 8 5 2 9
</code></pre>
<pre><code class="language-txt">deal into new stack
cut -2
deal with increment 7
cut 8
cut -4
deal with increment 7
cut 3
deal with increment 9
deal with increment 3
cut -1
Result: 9 2 5 8 1 4 7 0 3 6
</code></pre>
<p>Positions within the deck count from <code>0</code> at the top, then <code>1</code> for the card immediately below the
top card, and so on to the bottom. (That is, cards start in the position matching their number.)</p>
<p>After shuffling your <strong>factory order</strong> deck of 10007 cards, <strong>what is the position of card
<code>2019</code>?</strong></p>
</div><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.INPUT.html" title="aoc::y2019::d22::INPUT constant">INPUT</a></td><td class="docblock-short"></td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.solve_part_one.html" title="aoc::y2019::d22::solve_part_one fn">solve_part_one</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.solve_part_two.html" title="aoc::y2019::d22::solve_part_two fn">solve_part_two</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "aoc";</script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>