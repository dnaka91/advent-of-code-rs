<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `d17` mod in crate `aoc`."><meta name="keywords" content="rust, rustlang, rust-lang, d17"><title>aoc::y2018::d17 - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../aoc/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module d17</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"><a href="../../index.html">aoc</a>::<wbr><a href="../index.html">y2018</a></p><script>window.sidebarCurrent = {name: "d17", ty: "mod", relpath: "../"};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/aoc/y2018/d17.rs.html#1-215" title="goto source code">[src]</a></span><span class="in-band">Module <a href="../../index.html">aoc</a>::<wbr><a href="../index.html">y2018</a>::<wbr><a class="mod" href="">d17</a></span></h1><div class="docblock"><h1 id="day-17-reservoir-research" class="section-header"><a href="#day-17-reservoir-research">Day 17: Reservoir Research</a></h1>
<p>You arrive in the year 18. If it weren't for the coat you got in 1018, you would be very cold:
the North Pole base hasn't even been constructed.</p>
<p>Rather, it hasn't been constructed <strong>yet</strong>. The Elves are making a little progress, but there's
not a lot of liquid water in this climate, so they're getting very dehydrated. Maybe there's
more underground?</p>
<p>You scan a two-dimensional vertical slice of the ground nearby and discover that it is mostly
<strong>sand</strong> with veins of <strong>clay</strong>. The scan only provides data with a granularity of <strong>square
meters</strong>, but it should be good enough to determine how much water is trapped there. In the
scan, <code>x</code> represents the distance to the right, and <code>y</code> represents the distance down. There is
also a <strong>spring of water</strong> near the surface at <code>x=500, y=0</code>. The scan identifies <strong>which square
meters are clay</strong> (your puzzle input).</p>
<p>For example, suppose your scan shows the following veins of clay:</p>
<pre><code class="language-txt">x=495, y=2..7
y=7, x=495..501
x=501, y=3..7
x=498, y=2..4
x=506, y=1..2
x=498, y=10..13
x=504, y=10..13
y=13, x=498..504
</code></pre>
<p>Rendering clay as <code>#</code>, sand as <code>.</code>, and the water spring as <code>+</code>, and with <code>x</code> increasing to the
right and <code>y</code> increasing downward, this becomes:</p>
<pre><code class="language-txt">   44444455555555
   99999900000000
   45678901234567
 0 ......+.......
 1 ............#.
 2 .#..#.......#.
 3 .#..#..#......
 4 .#..#..#......
 5 .#.....#......
 6 .#.....#......
 7 .#######......
 8 ..............
 9 ..............
10 ....#.....#...
11 ....#.....#...
12 ....#.....#...
13 ....#######...
</code></pre>
<p>The spring of water will produce water <strong>forever</strong>. Water can move through sand, but is blocked
by clay. Water <strong>always moves down</strong> when possible, and spreads to the left and right otherwise,
filling space that has clay on both sides and falling out otherwise.</p>
<p>For example, if five squares of water are created, they will flow downward until they reach the
clay and settle there. Water that has come to rest is shown here as <code>~</code>, while sand through
which water has passed (but which is now dry again) is shown as <code>|</code>:</p>
<pre><code class="language-txt">......+.......
......|.....#.
.#..#.|.....#.
.#..#.|#......
.#..#.|#......
.#....|#......
.#~~~~~#......
.#######......
..............
..............
....#.....#...
....#.....#...
....#.....#...
....#######...
</code></pre>
<p>Two squares of water can't occupy the same location. If another five squares of water are
created, they will settle on the first five, filling the clay reservoir a little more:</p>
<pre><code class="language-txt">......+.......
......|.....#.
.#..#.|.....#.
.#..#.|#......
.#..#.|#......
.#~~~~~#......
.#~~~~~#......
.#######......
..............
..............
....#.....#...
....#.....#...
....#.....#...
....#######...
</code></pre>
<p>Water pressure does not apply in this scenario. If another four squares of water are created,
they will stay on the right side of the barrier, and no water will reach the left side:</p>
<pre><code class="language-txt">......+.......
......|.....#.
.#..#.|.....#.
.#..#~~#......
.#..#~~#......
.#~~~~~#......
.#~~~~~#......
.#######......
..............
..............
....#.....#...
....#.....#...
....#.....#...
....#######...
</code></pre>
<p>At this point, the top reservoir overflows. While water can reach the tiles above the surface of
the water, it cannot settle there, and so the next five squares of water settle like this:</p>
<pre><code class="language-txt">......+.......
......|.....#.
.#..#||||...#.
.#..#~~#|.....
.#..#~~#|.....
.#~~~~~#|.....
.#~~~~~#|.....
.#######|.....
........|.....
........|.....
....#...|.#...
....#...|.#...
....#~~~~~#...
....#######...
</code></pre>
<p>Note especially the leftmost <code>|</code>: the new squares of water can reach this tile, but cannot stop
there. Instead, eventually, they all fall to the right and settle in the reservoir below.</p>
<p>After 10 more squares of water, the bottom reservoir is also full:</p>
<pre><code class="language-txt">......+.......
......|.....#.
.#..#||||...#.
.#..#~~#|.....
.#..#~~#|.....
.#~~~~~#|.....
.#~~~~~#|.....
.#######|.....
........|.....
........|.....
....#~~~~~#...
....#~~~~~#...
....#~~~~~#...
....#######...
</code></pre>
<p>Finally, while there is nowhere left for the water to settle, it can reach a few more tiles
before overflowing beyond the bottom of the scanned data:</p>
<pre><code class="language-txt">......+.......    (line not counted: above minimum y value)
......|.....#.
.#..#||||...#.
.#..#~~#|.....
.#..#~~#|.....
.#~~~~~#|.....
.#~~~~~#|.....
.#######|.....
........|.....
...|||||||||..
...|#~~~~~#|..
...|#~~~~~#|..
...|#~~~~~#|..
...|#######|..
...|.......|..    (line not counted: below maximum y value)
...|.......|..    (line not counted: below maximum y value)
...|.......|..    (line not counted: below maximum y value)
</code></pre>
<p>How many tiles can be reached by the water? <strong>To prevent counting forever</strong>, ignore tiles with a
<code>y</code> coordinate smaller than the smallest <code>y</code> coordinate in your scan data or larger than the
largest one. Any <code>x</code> coordinate is valid. In this example, the lowest <code>y</code> coordinate given is
<code>1</code>, and the highest is <code>13</code>, causing the water spring (in row <code>0</code>) and the water falling off
the bottom of the render (in rows <code>14</code> through infinity) to be ignored.</p>
<p>So, in the example above, counting both water at rest (<code>~</code>) and other sand tiles the water can
hypothetically reach (<code>|</code>), the total number of tiles the water can reach is <strong><code>57</code></strong>.</p>
<p><strong>How many tiles can the water reach</strong> within the range of <code>y</code> values in your scan?</p>
</div><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.INPUT.html" title="aoc::y2018::d17::INPUT constant">INPUT</a></td><td class="docblock-short"></td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.solve_part_one.html" title="aoc::y2018::d17::solve_part_one fn">solve_part_one</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.solve_part_two.html" title="aoc::y2018::d17::solve_part_two fn">solve_part_two</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "aoc";</script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>